9/4/21 15:25 
Ran the first analyses, FastQC, for all the files, both DNA and RNA. The RNA sequences seem to have terrible amounts of contamination and faults, after reviewing their FastQC reports.
The DNA sequences are not as bad, however their per sequence GC content scores are nothing to write home about. I will trimm both types of data i.e. trim the DNA and RNA sequences. 
This is in hope of ironing out the observed faults. After some discussion with a TA, Daria, I am not as convinced to use Sickle for trimming. 
While Sickle could work, Daria mentioned that it is not as common as Trimmomatic. If something were to go wrong with Sickle, I'd need to troubleshoot it by myself, while others in my group use Trimmomatic. 
For this reason, since I have no experience in genome analysis, I will use Trimmomatic instead of Sickle, as I could rely on others to help me in troubleshooting. 

10/4/21 11:14 
I decided against running Trimmomatic in the end. When comparing Trimmomatic to Sickle I fround a great guide on github on Sickle which made me feel more comfortable with the software than Trimmomatic. 
I tried to find a manual for Trimmoatic which I did find in bash. This manual was not first-time userfriendly; showing me pipeline of different input parameters which I did not understand. 
This is why I chose Sickle; I should investigate the defining details of each software for a more nuanced comparisson. Running Sickle went fine but I enoutered an unforseen problem. 
After the trimming process I realised that the trimmed DNA files were huge (pic below)! 
This meant that I could not run FastQC. I decided to remove the trimmed DNA sequences, since the raw ones were already great, just their per sequence GC content was a little off, but I kept the trimmed RNA sequences. 

11/4/21 21:20 
Finally solved a github problem. I tried to push a couple of changes but accidently commited the data of the RNA trim. 
I solved it after consulting a friend but now my github branches are messed up, something I'll need to fix. 
After trimming my RNA files with Sickle; they are better but could they be even better? Sickle solved a lot of problems that FastQC picked up but the sequences are still not as good as their DNA counter parts.
I want to compare these results with someone who used Trimmomatic. In any case the next step will be mapping, a little behind on the sechedule but it should workout. 

13/4/21 21:42 
I was hoping to run metabat today, but by god github has to be the worst program I have ever used. I had the same problem as before, but my previous solution didn't work. 
Now I'll have to re-write all of the code that I used for goal_1. Which is tedious. If the problem keeps recurring I'm not sure what I should do. 
In any case, the code I used worked wonders! Now I have all files with the .gz extensions. Tomorrow I could run Metabat for binning. 

14/4/21 23:25 
I worked out that I forgot to trimm the adapters from my RNA sequences. Trying to use Schythe, which Thrasher et. al. did, a problem occured; Schythe isn't on Uppmax. 
Or I couldn't find it. But peers guided me through trimmomatic and the RNA sequences are re-trimmed, with much better results. Finally I also wrote batch scripts for Metabat. 
The batch scripts exist in two categories: DNA/RNA, though the DNA job was not annotated as such. Each are predicted to take ca 20 hours to run. If they are written correctly, results will be available tomorrow. 

15/4/21 15:20 
After reviewing the project plan, a few changes will be made. The first change is to perform megahit and maxquast before metabat. Then, for goal 4, Prokka will be run first. 
Instead of using Deseq2, BWA will be run a second time. Finally the extra analyses will be altered; from the current set up to taking a deeper look into the relation of genes within each bin. 
As well as taking a closer look into the taxanomic placement of the detected organisms. 
Finally a branch-site test of the discovered, and annotated genes, would be cool, to see what kind of selective pressures the proteins are under. 
The plan for today has changed: from running metabat to running megahit and maxquast THEN metabat. 

15/4/21 22:10 
Created code for goal 2_2, quality controlling for the DNA/RNA assemblies from Megahit. Still having issues with the DNA assemblies, Megahit not working properly. 
Ran the RNA assemblies using 2_2 code. 

17/4/21 16:40 
Got the quast results back, for both RNA and DNA 
23:13 
Reviewd the results, as well as looking throug the lecture on genome assembly. 
It is hard to say how good my assemblies are mostly due to the lack of reference and not knowing which subset of Thrasher data I am working with.
The assemblies seem to retain the same GC content as FastQC produced and of similar sizes, though there is more to gain from this data I am sure. 
In any case I will write the MetaBat script now and run, hopefully have it done by tomorrow. 

18/4/21 15:50 
The DNA metabat worked perfectly, I now have bins for samples 133 and 129. However I have not had the same success with binning the RNA contigs. 
I will fix the RNA script today while trying to run the checkM for my DNA bins, to asses their quality. 
Furthermore I should start to delete some of the intermediary files. I have used half of my storage capacity in uppmax at this point. 
19:09
Fixed the problem with the RNA bins, my contigs size was too small for the standard metabat input, which is 2500. I changed it to 1500 to accomedate for this. 
After a quick glance in the contig file I found very few RNA contigs that were around the size of 1500, most were smaller. This could be because RNA is inherently harder to sequence than DNA 
In any case I'm currently running CheckM on uppmax with the DNA bins. I used CheckM taxonolmy workflow, since I am more concerned about WHAT is in the sample than WHO is related to it. 
I also reduced the tree size in order to save storage. 

23/4/21 11:07 
Have a new problem. Trying to select which bins to continue with but have no good method to do this. A method I had hoped to use is the following CheckM plot function: "bin_qa_plot". 
In order to run bin_qa_plot I first need to run the qa command. In order to run the qa command I need a marker_file. This marker_file is the problem; where to get it? 
I do not know where to find this marker file nor what it is or what it does. A solution would be to re-run CheckM with the taxonomy_wf. This generates a marker file. 
Problem: I had issues with running the taxonomy_wf before, and had no clue how to solve the initial problem. Perhaps the solution is this: run the taxonomy_wf with a new directory at uppmax. 

